<nav-bar-directive></nav-bar-directive>
<div class="main">
	<h2>Browse Events</h2>
	<div class="row events-container">
		<div ng-repeat="event in vm.events | orderBy:'id':true" class="col-sm-4">
			<div class="event" data-toggle="modal" data-target="#modal-for{{event.$id}}" ng-click="vm.geocode(event.eventLocation.name)">
				<h3>{{event.eventName}}</h3>
				<h4>hosted by</h4>
				<img class="user-img" src="{{event.hostAvatar+'100.png'}}">
				<h4>{{event.eventHost}}</h4>

			</div>

			<div class="modal fade" 
				 id="modal-for{{event.$id}}" 
				 tabindex="-1" 
				 role="dialog">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
							<h4 class="modal-title">{{event.eventName}}</h4>
						</div>
						<div class="modal-body row">
							<div class="col-sm-12 event-body">{{event.eventType}}</div>
							<div class="col-sm-12 event-body">Hosted by {{event.eventHost}} <span><img class="user-img-thumb" src="{{event.hostAvatar+'50.png'}}"></span></div>
							<div class="col-sm-12 event-body modal-location">
								<div class="event-map">Location: </div>
								<div  id="map{{event.$id}}">
									<img class="img-responsive" src="https://maps.googleapis.com/maps/api/staticmap?center={{event.eventLocation}}&zoom=14&size=400x400&markers=color:red|{{event.eventLocation}}&key=AIzaSyCXcFHRjLncSzc1UBklhRueyStZdZHaELA">
								</div>
								<div>Location: {{event.eventLocation}}</div>
							</div>
							<div class="col-sm-12 event-body">Starts: {{event.eventStartTime}}</div>							
							<div class="col-sm-12 event-body">Ends: {{event.eventEndTime}}</div>
							<div class="col-sm-12 event-body">Description:
								<p class="event-description">{{event.eventDescription}}</p>
							</div>
							<div class="col-sm-12 event-body">Guests:
								<ul>
									<li ng-repeat="guest in event.eventGuests">{{guest}}</li>
								</ul>
							</div>
						</div>
						<div class="modal-footer"></div>
					</div>
				</div>
			</div>	

		</div>
	</div>
</div>

